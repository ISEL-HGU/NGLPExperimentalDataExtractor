import javax.swing.JDialog;
import javax.swing.JOptionPane;
import java.util.Collection;
        if (e.getOldName() != null) {
            removeDuplicateAttribute(e);
        }
    public void removeDuplicateAttribute(AttributeEvent e) {
        ObjEntity current = (ObjEntity) e.getEntity();
        Collection<ObjEntity> objEntities = new ArrayList<>();
        for (ObjEntity objEntity: e.getEntity().getDataMap().getObjEntities()) {
            if (objEntity.isSubentityOf(current)) {
                objEntities.add(objEntity);
            }
        }

        for (ObjEntity objEntity: objEntities) {
            if (objEntity.getDeclaredAttribute(e.getAttribute().getName()) != null) {

                JOptionPane pane = new JOptionPane(
                        String.format("'%s' and '%s' can't have attribute '%s' together. " 
                                        "Would you like to delete this attribute from the '%s' class?",
                                objEntity.getName(), e.getEntity().getName(), e.getAttribute().getName(), objEntity.getName()),
                        JOptionPane.QUESTION_MESSAGE,
                        JOptionPane.YES_NO_OPTION);

                JDialog dialog = pane.createDialog(Application.getFrame(), "Confirm Remove");
                dialog.setVisible(true);

                boolean shouldDelete;
                Object selectedValue = pane.getValue();
                shouldDelete = selectedValue != null && selectedValue.equals(JOptionPane.YES_OPTION);
                if (shouldDelete) {
                    objEntity.removeAttribute(e.getAttribute().getName());
                }
            }
        }
    }

