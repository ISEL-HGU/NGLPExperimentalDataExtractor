                ModelerUtil.getDbAttributeNames(getMediator(), relationship.getSourceEntity()), true);
                ModelerUtil.getDbAttributeNames(getMediator(), relationship.getTargetEntity()), true);
        handleNameUpdate(relationship, name.getText().trim());
                handleNameUpdate(reverseRelationship, reverseName.getText().trim());
            Collection<DbJoin> reverseJoins = getReverseJoins();
        getMediator().fireDbRelationshipEvent(
                new RelationshipEvent(this, relationship, relationship.getSourceEntity()));
    private void handleNameUpdate(DbRelationship relationship, String userInputName) {
        if(Util.nullSafeEquals(relationship.getName(), userInputName)) {
            return;
        }

        String sourceEntityName = NameBuilder
                .builder(relationship, relationship.getSourceEntity())
                .baseName(userInputName)
                .name();

        if (Util.nullSafeEquals(sourceEntityName, relationship.getName())) {
            return;
        }
        String oldName = relationship.getName();
        relationship.setName(sourceEntityName);
        undo.addNameUndo(relationship, oldName, sourceEntityName);

        getMediator().fireDbRelationshipEvent(
                new RelationshipEvent(this, relationship, relationship.getSourceEntity(), oldName));
    }

    private Collection<DbJoin> getReverseJoins() {
            return Collections.emptyList();
        List<DbJoin> reverseJoins = new ArrayList<>(joins.size());
