import java.util.HashSet;
        Collection<Reference<? extends V>> valuesToRemove = null;
            if(valuesToRemove == null) {
                valuesToRemove = new HashSet<>();
            valuesToRemove.add(reference);
        }

        if(valuesToRemove == null) {
            return;
        }

        Collection<K> keysToRemove = new ArrayList<>(valuesToRemove.size());
        for(Map.Entry<K, R> entry : map.entrySet()) {
            if(valuesToRemove.contains(entry.getValue())) {
                keysToRemove.add(entry.getKey());
            }
        }

        for(K keyToRemove : keysToRemove) {
            map.remove(keyToRemove);
