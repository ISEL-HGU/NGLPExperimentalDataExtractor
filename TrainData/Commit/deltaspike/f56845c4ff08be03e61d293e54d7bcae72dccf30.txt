        return loadServiceImplementations(serviceType, ignoreServicesWithMissingDependencies, null);
    }

    public static <T> List<T> loadServiceImplementations(Class<T> serviceType,
                                                         boolean ignoreServicesWithMissingDependencies,
                                                         ClassLoader classLoader)
    {
        Iterator<T> servicesIterator;
        if (classLoader != null)
        {
            servicesIterator = ServiceLoader.load(serviceType, classLoader).iterator();
        }
        else
        {
            servicesIterator = ServiceLoader.load(serviceType).iterator();
        }
