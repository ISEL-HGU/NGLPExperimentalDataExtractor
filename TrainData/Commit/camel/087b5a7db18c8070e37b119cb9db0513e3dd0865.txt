import java.util.regex.Matcher;
        if (camelContext.getManagementNameStrategy() != null) {
            String name = camelContext.getManagementNameStrategy().resolveManagementName(path, camelContext.getName(), false);
            if (name != null) {
                name = customResolveManagementName(name);
            }
            // and then check again with invalid check to ensure all ## is resolved
            if (name != null) {
                name = camelContext.getManagementNameStrategy().resolveManagementName(name, camelContext.getName(), true);
            }
            return name;
        } else {
            return defaultManagementName(path);
    }

    protected String defaultManagementName(String path) {
        // must quote the names to have it work as literal replacement
        String name = Matcher.quoteReplacement(camelContext.getName());

        // replace tokens
        String answer = path;
        answer = answer.replaceFirst("#camelId#", name);
        answer = answer.replaceFirst("#name#", name);
        // replace custom
        answer = customResolveManagementName(answer);
        return answer;
