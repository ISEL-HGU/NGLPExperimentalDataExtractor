    private Deque<DefaultSubUnitOfWork> subUnitOfWorks;
            subUnitOfWorks = new ArrayDeque<>();
        SubUnitOfWork subUoW = null;
        try {
            subUoW = subUnitOfWorks.pop();
        } catch (NoSuchElementException e) {
            // ignore
        }
        if (subUoW != null && subUoW.isFailed()) {
        return subUnitOfWorks != null ? subUnitOfWorks.peek() : null;
