            // we want to preserve last FTP activity listener when we set a new operations
            if (operations instanceof FtpOperations) {
                FtpOperations ftpOperations = (FtpOperations) operations;
                FtpClientActivityListener listener = ftpOperations.getClientActivityListener();
                setOperations(getEndpoint().createRemoteFileOperations());
                getOperations().setEndpoint(getEndpoint());
                if (listener != null) {
                    ftpOperations = (FtpOperations) getOperations();
                    ftpOperations.setClientActivityListener(listener);
                }
            } else {
                setOperations(getEndpoint().createRemoteFileOperations());
                getOperations().setEndpoint(getEndpoint());
            }
