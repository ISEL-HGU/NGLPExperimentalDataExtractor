import java.io.UnsupportedEncodingException;
import java.net.URLDecoder;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
    private static final Logger LOG = LoggerFactory.getLogger(RestSpanDecorator.class);

        return getPath(endpoint.getEndpointUri());
        getParameters(getPath(endpoint.getEndpointUri())).forEach(param -> {
    protected static String getPath(String uri) {
        // Obtain the 'path' part of the URI format: rest://method:path[:uriTemplate]?[options]
        String path = null;
        int index = uri.indexOf(':');
        if (index != -1) {
            index = uri.indexOf(':', index  1);
            if (index != -1) {
                path = uri.substring(index  1);
                index = path.indexOf('?');
                if (index != -1) {
                    path = path.substring(0, index);
                }
                path = path.replaceAll(":", "");
                try {
                    path = URLDecoder.decode(path, "UTF-8");
                } catch (UnsupportedEncodingException e) {
                    LOG.error("Failed to decode URL path '"  path  "'", e);
                }
            }
        }
        return path;
    }

    protected static List<String> getParameters(String path) {
        int startIndex = path.indexOf('{');
            int endIndex = path.indexOf('}', startIndex);
                parameters.add(path.substring(startIndex  1, endIndex));
                startIndex = path.indexOf('{', endIndex);
