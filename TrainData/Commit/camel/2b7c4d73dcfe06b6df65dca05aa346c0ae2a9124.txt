    public Route createRoute(CamelContext camelContext, RouteContext routeContext) {
            return doCreateRoute(camelContext, routeContext);
        if (camelContext.isStarted()) {
            camelContext.getExtension(Model.class).addRouteDefinition(merged);
    protected Route doCreateRoute(CamelContext camelContext, RouteContext routeContext) throws Exception {

        Endpoint endpoint = definition.getInput().getEndpoint();
            endpoint = routeContext.resolveEndpoint(definition.getInput().getUri());

            String at = definition.getInput().toString();
            Exception cause = new IllegalArgumentException("Route "  definition.getId()  " has no output processors."
            throw new FailedToCreateRouteException(definition.getId(), definition.toString(), at, cause);
                throw new FailedToCreateRouteException(definition.getId(), definition.toString(), output.toString(), e);
