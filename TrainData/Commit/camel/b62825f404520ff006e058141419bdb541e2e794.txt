import java.util.List;
import org.apache.camel.impl.CompositeRegistry;
import org.apache.camel.impl.DefaultCamelContext;
import org.apache.camel.spi.Registry;
import org.springframework.core.OrderComparator;
        if (camelContext instanceof DefaultCamelContext) {
            final DefaultCamelContext defaultContext = (DefaultCamelContext) camelContext;
            final Map<String, Registry> registryBeans = applicationContext.getBeansOfType(Registry.class);

            if (!registryBeans.isEmpty()) {
                final List<Registry> registries = new ArrayList<>(registryBeans.values());
                OrderComparator.sort(registries);
                final Registry registry = new CompositeRegistry(registries);
                defaultContext.setRegistry(registry);
            }
        }

