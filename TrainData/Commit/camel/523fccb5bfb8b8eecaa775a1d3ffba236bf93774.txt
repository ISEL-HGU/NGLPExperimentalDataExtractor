import org.apache.camel.Exchange;
import org.apache.camel.impl.DefaultExchange;
     *     <il>http:uri - to load the resource using HTTP</il>
     *     <il>bean:nameOfBean.methodName - to lookup a bean in the {@link org.apache.camel.spi.Registry} and call the method</il>
        } else if (uri.startsWith("bean:")) {
            String bean = uri.substring(5);
            if (bean.contains(".")) {
                String method = StringHelper.after(bean, ".");
                bean = StringHelper.before(bean, ".")  "?method="  method;
            }
            Exchange dummy = new DefaultExchange(camelContext);
            Object out = camelContext.resolveLanguage("bean").createExpression(bean).evaluate(dummy, Object.class);
            if (dummy.getException() != null) {
                IOException io = new IOException("Cannot find resource: "  uri  " from calling the bean");
                io.initCause(dummy.getException());
                throw io;
            }
            if (out != null) {
                InputStream is = camelContext.getTypeConverter().tryConvertTo(InputStream.class, dummy, out);
                if (is == null) {
                    String text = camelContext.getTypeConverter().tryConvertTo(String.class, dummy, out);
                    if (text != null) {
                        return new ByteArrayInputStream(text.getBytes());
                    }
                } else {
                    return is;
                }
            } else {
                throw new IOException("Cannot find resource: "  uri  " from calling the bean");
            }

