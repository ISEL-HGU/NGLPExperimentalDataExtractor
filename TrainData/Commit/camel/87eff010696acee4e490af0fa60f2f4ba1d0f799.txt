import java.util.function.Supplier;
import org.apache.camel.RuntimeCamelException;
import org.apache.camel.util.function.Suppliers;

;
    private final Supplier<Consul> client;
        this.client = Suppliers.memorize(configuration::createConsulClient, e -> { throw new RuntimeCamelException(e); });
        ObjectHelper.ifNotEmpty(configuration.getDc(), builder::datacenter);
        ObjectHelper.ifNotEmpty(configuration.getTags(), tags -> tags.forEach(builder::tag));
        List<CatalogService> services = client.get().catalogClient()
        List<ServiceHealth> healths = client.get().healthClient()
