import java.util.List;
import java.util.concurrent.CountDownLatch;
        CountDownLatch latch = new CountDownLatch(1);
        Object responseBody = null;
        
        
            latch.countDown();
        
        try {
            latch.await();
            
            if (exchange.hasOut()) {
                responseBody = exchange.getOut().getBody();
            } else {
                responseBody = exchange.getIn().getBody();
            }
            
            if (responseBody instanceof List) {
                List<?> responseList = (List<?>)responseBody;
                responseList.forEach((responseItem) -> {
                    responseObserver.onNext(responseItem);
                });
            } else {
                responseObserver.onNext(responseBody);
            }
            responseObserver.onCompleted();

        } catch (InterruptedException e) {
            responseObserver.onError(e);
