import java.util.List;
            final TabularData answer = new TabularDataSupport(subscribersTabularType());
                    CompositeType ct = subscribersCompositeType();
                        new String[] {"name", "inflight", "requested"},
                        new Object[] {name, inflight, requested});
                    List<CamelSubscription> subscriptions = v.getSubscriptions();
                    int subscribers = subscriptions.size();
                    TabularData subscriptionData = new TabularDataSupport(subscriptionsTabularType());
                    CompositeType subCt = subscriptionsCompositeType();
                    for (CamelSubscription sub : subscriptions) {
                        String id = sub.getId();
                        long bufferSize = sub.getBufferSize();
                        String backpressure = sub.getBackpressureStrategy() != null ? sub.getBackpressureStrategy().name() : "";
                        CompositeData subData = new CompositeDataSupport(subCt, new String[]{"name", "buffer size", "back pressure"}, new Object[]{id, bufferSize, backpressure});

                        subscriptionData.put(subData);
                    }

                        new String[] {"name", "subscribers", "subscriptions"},
                        new Object[] {name, subscribers, subscriptionData});
    private static TabularType subscribersTabularType() throws OpenDataException {
        CompositeType ct = subscribersCompositeType();
        return new TabularType("subscribers", "Information about Camel Reactive subscribers", ct, new String[]{"name"});
    private static CompositeType subscribersCompositeType() throws OpenDataException {
        return new CompositeType("subscriptions", "Subscriptions",
                new String[] {"name", "inflight", "requested"},
                new String[] {"Name", "Inflight", "Requested"},
                new OpenType[] {SimpleType.STRING, SimpleType.LONG, SimpleType.LONG});
            new String[] {"name", "subscribers", "subscriptions"},
            new String[] {"Name", "Subscribers", "Subscriptions"},
            new OpenType[] {SimpleType.STRING, SimpleType.INTEGER, subscriptionsTabularType()});
    }

    private static TabularType subscriptionsTabularType() throws OpenDataException {
        CompositeType ct = subscriptionsCompositeType();
        return new TabularType("subscriptions", "Information about External Reactive subscribers", ct, new String[]{"name"});
    }

    private static CompositeType subscriptionsCompositeType() throws OpenDataException {
        return new CompositeType("subscriptions", "Subscriptions",
                new String[] {"name", "buffer size", "back pressure"},
                new String[] {"Name", "Buffer Size", "Back Pressure"},
                new OpenType[] {SimpleType.STRING, SimpleType.LONG, SimpleType.STRING});
