import javax.xml.parsers.ParserConfigurationException;
import javax.xml.parsers.SAXParserFactory;
import javax.xml.transform.Source;
import javax.xml.transform.sax.SAXSource;
import org.xml.sax.InputSource;
import org.xml.sax.SAXException;
    public void createBatch(InputStream batchStream, String jobId, ContentType contentTypeEnum,

            // Disable XXE
            SAXParserFactory spf = SAXParserFactory.newInstance();
            try {
                spf.setFeature(javax.xml.XMLConstants.FEATURE_SECURE_PROCESSING, Boolean.TRUE);
                spf.setFeature("http://xml.org/sax/features/external-general-entities", false);
                spf.setFeature("http://xml.org/sax/features/external-parameter-entities", false);
                spf.setFeature("http://apache.org/xml/features/nonvalidating/load-external-dtd", false);
            } catch (ParserConfigurationException | SAXException ex) {
                // LOG.debug("Error setting feature on parser: "  ex.getMessage());
            }
            Source xmlSource =
                new SAXSource(spf.newSAXParser().getXMLReader(), new InputSource(response));

            JAXBElement<T> result = unmarshaller.unmarshal(xmlSource, resultClass);
        } catch (JAXBException | SAXException | ParserConfigurationException e) {
