        boolean logRoutesAsXml = true;
            AdviceWithRouteBuilder arb = (AdviceWithRouteBuilder) builder;
            arb.setOriginalRoute(definition);
            logRoutesAsXml = arb.isLogRouteAsXml();
        String beforeAsXml = null;
        if (logRoutesAsXml && log.isInfoEnabled()) {
            beforeAsXml = ModelHelper.dumpModelAsXml(camelContext, definition);
        }
        if (log.isInfoEnabled()) {
            log.info("AdviceWith route after: {}", merged);
        }
        if (logRoutesAsXml && log.isInfoEnabled()) {
            String afterAsXml = ModelHelper.dumpModelAsXml(camelContext, merged);
            log.info("Adviced route before/after as XML:\n{}\n{}", beforeAsXml, afterAsXml);
        }
