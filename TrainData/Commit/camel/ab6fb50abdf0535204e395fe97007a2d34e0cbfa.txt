import org.apache.camel.Message;
import static org.apache.camel.util.ObjectHelper.isEmpty;
import static org.apache.camel.util.ObjectHelper.isNotEmpty;

    private static final String ACCEPT = "Accept";
        Message inMessage = exchange.getIn();
                        String value = inMessage.getHeader(key, String.class);
                        String value = inMessage.getHeader(key, String.class);
            inMessage.setHeader(Exchange.REST_HTTP_QUERY, query);
            inMessage.setHeader(Exchange.REST_HTTP_URI, overrideUri);
        }

        final String produces = getEndpoint().getProduces();
        if (isEmpty(inMessage.getHeader(Exchange.CONTENT_TYPE)) && isNotEmpty(produces)) {
            inMessage.setHeader(Exchange.CONTENT_TYPE, produces);
        }

        final String consumes = getEndpoint().getConsumes();
        if (isEmpty(inMessage.getHeader(ACCEPT)) && isNotEmpty(consumes)) {
            inMessage.setHeader(ACCEPT, consumes);
