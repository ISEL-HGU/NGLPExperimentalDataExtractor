import org.apache.camel.support.RestConsumerContextPathMatcher;
        String requestPath = request.getResourceRef().getPath();
        String consumerPath = request.getRootRef().getPath();
        boolean matchOnUriPrefix = false;
        boolean  result = RestConsumerContextPathMatcher.matchPath(requestPath, consumerPath, matchOnUriPrefix);
        if (result) {
            Restlet target = routes.get(method);
            if (target == null || org.restlet.data.Method.OPTIONS.equals(method)) {
                // must include list of allowed methods
                response.setAllowedMethods(routes.keySet());
            }
            if (target != null) {
                target.handle(request, response);
            } else {
                LOG.debug("MethodRouter ({}) method not allowed: {}", uriPattern, method);
                response.setStatus(Status.CLIENT_ERROR_METHOD_NOT_ALLOWED);
            }
            response.setStatus(Status.CLIENT_ERROR_NOT_FOUND);
    
