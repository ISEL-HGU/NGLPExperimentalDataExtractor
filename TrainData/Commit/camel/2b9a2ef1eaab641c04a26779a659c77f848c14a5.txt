            RouteDefinition route = (RouteDefinition)routeContext.getRoute();
            answer = route.getErrorHandlerFactory();
            if (answer == null && route.getErrorHandlerRef() != null) {
                answer = routeContext.lookup(route.getErrorHandlerRef(), ErrorHandlerBuilder.class);
            }
            if (answer == null) {
                // fallback to the default error handler if none configured on
                // the route
                answer = new DefaultErrorHandlerBuilder();
            }
