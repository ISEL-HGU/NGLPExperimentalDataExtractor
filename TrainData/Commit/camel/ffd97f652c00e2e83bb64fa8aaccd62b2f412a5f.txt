import java.util.Collection;
import org.apache.camel.spi.InflightRepository;
        InflightRepository.InflightExchange oldest = getOldestInflightEntry();
            answer.append(" oldestInflightExchangeId=\"").append(oldest.getExchange().getExchangeId()).append("\"");
            answer.append(" oldestInflightDuration=\"").append(oldest.getDuration()).append("\"");
    private InflightRepository.InflightExchange getOldestInflightEntry() {
        Collection<InflightRepository.InflightExchange> list = getContext().getInflightRepository().browse(getRouteId(), 1, true);
        if (list.size() == 1) {
            return list.iterator().next();
    public Long getOldestInflightDuration() {
        InflightRepository.InflightExchange oldest = getOldestInflightEntry();
        if (oldest == null) {
        } else {
            return oldest.getDuration();
    public String getOldestInflightExchangeId() {
        InflightRepository.InflightExchange oldest = getOldestInflightEntry();
        if (oldest == null) {
            return null;
        } else {
            return oldest.getExchange().getExchangeId();
        }
