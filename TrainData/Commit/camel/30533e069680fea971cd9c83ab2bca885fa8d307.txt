import io.swagger.models.auth.ApiKeyAuthDefinition;
import io.swagger.models.auth.BasicAuthDefinition;
import io.swagger.models.auth.In;
import io.swagger.models.auth.OAuth2Definition;
import org.apache.camel.model.rest.RestSecuritiesDefinition;
import org.apache.camel.model.rest.RestSecurityApiKey;
import org.apache.camel.model.rest.RestSecurityBasicAuth;
import org.apache.camel.model.rest.RestSecurityDefinition;
import org.apache.camel.model.rest.RestSecurityOAuth2;
        // setup security definitions
        RestSecuritiesDefinition sd = rest.getSecurityDefinitions();
        for (RestSecurityDefinition def : sd.getSecurityDefinitions()) {
            if (def instanceof RestSecurityBasicAuth) {
                BasicAuthDefinition auth = new BasicAuthDefinition();
                auth.setDescription(def.getDescription());
                swagger.addSecurityDefinition(def.getKey(), auth);
            } else if (def instanceof RestSecurityApiKey) {
                RestSecurityApiKey rs = (RestSecurityApiKey) def;
                ApiKeyAuthDefinition auth = new ApiKeyAuthDefinition();
                auth.setDescription(rs.getDescription());
                auth.setName(rs.getName());
                if (rs.getInHeader() != null && rs.getInHeader()) {
                    auth.setIn(In.HEADER);
                } else {
                    auth.setIn(In.QUERY);
                }
                swagger.addSecurityDefinition(def.getKey(), auth);
            } else if (def instanceof RestSecurityOAuth2) {
                RestSecurityOAuth2 rs = (RestSecurityOAuth2) def;
                OAuth2Definition auth = new OAuth2Definition();
                auth.setDescription(rs.getDescription());
                auth.setFlow(rs.getFlow());
                auth.setAuthorizationUrl(rs.getAuthorizationUrl());
                auth.setTokenUrl(rs.getTokenUrl());
                for (RestPropertyDefinition scope : rs.getScopes()) {
                    auth.addScope(scope.getKey(), scope.getValue());
                }
                swagger.addSecurityDefinition(def.getKey(), auth);
            }
        }

