import java.util.Properties;
import org.apache.camel.spi.LoadablePropertiesSource;
public class CamelMicroProfilePropertiesSource extends ServiceSupport implements LoadablePropertiesSource {
        return config.getOptionalValue(name, String.class).orElse(null);
    }

    @Override
    public Properties loadProperties() {
        if (config == null) {
            config = ConfigProvider.getConfig();
        }

        Properties answer = new Properties();

        for (String key: config.getPropertyNames()) {
            answer.put(key, config.getValue(key, String.class));
        }

        return answer;
    }

    @Override
    protected void doInit() throws Exception {
        config = ConfigProvider.getConfig();
        // noop
