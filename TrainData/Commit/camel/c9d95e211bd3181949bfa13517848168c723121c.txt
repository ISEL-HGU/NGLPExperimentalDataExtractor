import java.util.LinkedHashSet;
import java.util.Set;
import org.apache.camel.Service;
import org.apache.camel.util.ServiceHelper;
    Set<String> prototypeBeans = new LinkedHashSet<>();
    @XmlTransient
                    @Override

                    @Override
                    protected void startService(Service service, CamelContext context, Object bean, String beanName) throws Exception {
                        if (isSingleton(bean, beanName)) {
                            getCamelContext().addService(service);
                        } else {
                            // only start service and do not add it to CamelContext
                            ServiceHelper.startService(service);
                            if (prototypeBeans.add(beanName)) {
                                // do not spam the log with WARN so do this only once per bean name
                                CamelBeanPostProcessor.LOG.warn("The bean with id ["  beanName  "] is prototype scoped and cannot stop the injected service when bean is destroyed: "
                                     service  ". You may want to stop the service manually from the bean.");
                            }
                        }
                    }
    @Override
    @Override
    @Override
