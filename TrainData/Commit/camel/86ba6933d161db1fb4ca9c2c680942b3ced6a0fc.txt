        if (sslContextParameters != null && isSecureProtocol()) {
            properties.put("mail."  protocol  ".socketFactory", createSSLContext().getSocketFactory());
        if (sslContextParameters != null && isStartTlsEnabled()) {
            properties.put("mail."  protocol  ".ssl.socketFactory", createSSLContext().getSocketFactory());
            properties.put("mail."  protocol  ".ssl.socketFactory.port", ""  port);
        }
        if (dummyTrustManager && isSecureProtocol()) {
        if (dummyTrustManager && isStartTlsEnabled()) {
            // set the custom SSL properties
            properties.put("mail."  protocol  ".ssl.socketFactory.class", "org.apache.camel.component.mail.DummySSLSocketFactory");
            properties.put("mail."  protocol  ".ssl.socketFactory.port", ""  port);
        }
    private SSLContext createSSLContext() {
        try {
            return sslContextParameters.createSSLContext();
        } catch (Exception e) {
            throw new RuntimeCamelException("Error initializing SSLContext.", e);
        }
    }

            return ObjectHelper.equal(additionalJavaMailProperties.getProperty("mail."  protocol  ".starttls.enable"), "true", true)
                   || ObjectHelper.equal(additionalJavaMailProperties.getProperty("mail."  protocol  ".starttls.required"), "true", true);
