import org.apache.camel.util.IOHelper;
public abstract class CsvMarshaller {
    protected CsvMarshaller(CSVFormat format) {
        CSVPrinter printer = createPrinter(exchange, outputStream);
    /**
     * Creates and returns a {@link CSVPrinter}.
     *
     * @param exchange     Exchange (used for access to type conversion). Could NOT be <code>null</code>.
     * @param outputStream Output stream of the CSV. Could NOT be <code>null</code>.
     * @return a new {@link CSVPrinter}. Never <code>null</code>.
     */
    protected CSVPrinter createPrinter(Exchange exchange, OutputStream outputStream) throws IOException {
        return new CSVPrinter(new OutputStreamWriter(outputStream, ExchangeHelper.getCharsetName(exchange)), format);
    }

