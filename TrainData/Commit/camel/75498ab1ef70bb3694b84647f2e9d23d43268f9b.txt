import org.iq80.leveldb.DBFactory;
            DBFactory factory = getFactory();
    private DBFactory getFactory() {
        String[] classNames = new String[] {
                "org.fusesource.leveldbjni.JniDBFactory",
                "org.iq80.leveldb.impl.Iq80DBFactory"
        };
        for (String cn : classNames) {
            try {
                Class<?> clz = getClass().getClassLoader().loadClass(cn);
                return (DBFactory) clz.newInstance();
            } catch (Exception e) {
                LOG.warn(e.getMessage(), e);
            }
        }
        throw new IllegalStateException("Can't find implementation of org.iq80.leveldb.DBFactory");
    }

