            try {
                if (isStepwise()) {
                    files = operations.listFiles();
                } else {
                    files = operations.listFiles(dir);
                }
            } catch (GenericFileOperationFailedException e) {
                if (ignoreCannotRetrieveFile(null, null, e)) {
                    log.debug("Cannot list files in directory {} due directory does not exists or file permission error.", dir);
                } else {
                    throw e;
                }
