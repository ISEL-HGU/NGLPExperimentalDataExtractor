import java.util.ArrayList;
import javax.mail.internet.AddressException;

import com.google.common.base.Splitter;
import org.apache.camel.util.ObjectHelper;
        List labelsIds = new ArrayList<>();
        if (ObjectHelper.isNotEmpty(getConfiguration().getLabels())) {
            List<String> plainLabels = splitLabels(getConfiguration().getLabels());
            for (Label label : listResponse.getLabels()) {
                Label countLabel = getClient().users().labels().get("me", label.getId()).execute();
                for (String plainLabel : plainLabels) {
                    if (countLabel.getName().equalsIgnoreCase(plainLabel)) {
                        labelsIds.add(countLabel.getId());
                    }
                }
            }
        }
        final GoogleMailStreamConsumer consumer = new GoogleMailStreamConsumer(this, processor, unreadLabelId, labelsIds);
    
    private List<String> splitLabels(String labels) throws AddressException {
        List<String> labelsList = Splitter.on(',').splitToList(getConfiguration().getLabels());
        return labelsList;
    }
