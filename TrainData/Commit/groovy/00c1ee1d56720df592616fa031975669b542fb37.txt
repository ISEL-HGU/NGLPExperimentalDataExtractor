            value = null == valueProvider ? null : valueProvider.provide(key);
            if (shouldCache && null != value) {
