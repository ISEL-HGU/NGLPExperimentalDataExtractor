import java.io.IOException;
        LdapConnectionConfig ldapConnectionConfig = ldapConnection.getConfig();
        // Search within subtree of given base DN
        SearchRequest request = ldapService.getSearchRequest(baseDN,
                query);
        // Produce list of all entries in the search result, automatically
        // following referrals if configured to do so
        List<Entry> entries = new ArrayList<>();
            
        try (SearchCursor results = ldapConnection.search(request)) {



        catch (CursorException | IOException | LdapException e) {
