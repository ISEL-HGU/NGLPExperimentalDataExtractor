import java.util.Date;
import org.apache.guacamole.auth.jdbc.base.ActivityRecordModel;

    /**
     * Mapper for user login records.
     */
    @Inject
    private UserRecordMapper userRecordMapper;

    /**
     * The activity record associated with this user's Guacamole session.
     */
    private ActivityRecordModel userRecord;

        // Create login record for user
        userRecord = new ActivityRecordModel();
        userRecord.setUserID(currentUser.getUser().getModel().getObjectID());
        userRecord.setUsername(currentUser.getIdentifier());
        userRecord.setStartDate(new Date());
        userRecord.setRemoteHost(currentUser.getCredentials().getRemoteHostname());

        // Insert record representing login
        userRecordMapper.insert(userRecord);

