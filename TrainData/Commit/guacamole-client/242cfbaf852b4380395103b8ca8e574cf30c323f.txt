
                // Deal with errors trying to follow referrals
                        throw new GuacamoleServerException("Could not follow LDAP referral.", e);
                        logger.warn("Given a referral, but referrals are disabled.", e.getMessage());
                        logger.debug("Got a referral, but configured to not follow them.", e);
                try {
                    LDAPEntry entry = results.next();
                    userDNs.add(entry.getDN());
                }
          
                // Deal with errors following referrals
                catch (LDAPReferralException e) {
                    if (confService.getFollowReferrals()) {
                        logger.error("Error trying to follow a referral.", e.getMessage());
                        logger.debug("Encountered an error trying to follow a referral.", e);
                        throw new GuacamoleServerException("Failed while trying to follow referrals.", e);
                    }
                    else {
                        logger.warn("Given a referral, not following it.", e.getMessage());
                        logger.debug("Given a referral, but configured to not follow them.", e);
                        continue;
                    }
                }
